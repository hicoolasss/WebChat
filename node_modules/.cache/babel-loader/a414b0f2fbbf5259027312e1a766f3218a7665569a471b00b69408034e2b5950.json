{"ast":null,"code":"// Импортируйте модель пользователя, если она еще не импортирована\nconst User = require(\"./User\"); // Подставьте путь к модели пользователя\n\nasync function getAvatar(userId) {\n  try {\n    // Найдите пользователя по ID или другому уникальному идентификатору\n    const user = await User.findById(userId);\n\n    // Если пользователь не найден, верните путь к аватару по умолчанию\n    if (!user) {\n      return \"default_avatar.jpg\"; // Путь к аватару по умолчанию\n    }\n\n    // Если у пользователя есть аватар, верните его\n    if (user.avatar) {\n      return user.avatar;\n    } else {\n      return \"default_avatar.jpg\"; // Путь к аватару по умолчанию\n    }\n  } catch (error) {\n    console.error(\"Error fetching user avatar:\", error);\n    return \"default_avatar.jpg\"; // В случае ошибки верните путь к аватару по умолчанию\n  }\n}\n\nmodule.exports = getAvatar;","map":{"version":3,"names":["User","require","getAvatar","userId","user","findById","avatar","error","console","module","exports"],"sources":["D:/WebChat/src/utils/getAvatar.js"],"sourcesContent":["// Импортируйте модель пользователя, если она еще не импортирована\r\nconst User = require(\"./User\"); // Подставьте путь к модели пользователя\r\n\r\nasync function getAvatar(userId) {\r\n    try {\r\n        // Найдите пользователя по ID или другому уникальному идентификатору\r\n        const user = await User.findById(userId);\r\n\r\n        // Если пользователь не найден, верните путь к аватару по умолчанию\r\n        if (!user) {\r\n            return \"default_avatar.jpg\"; // Путь к аватару по умолчанию\r\n        }\r\n\r\n        // Если у пользователя есть аватар, верните его\r\n        if (user.avatar) {\r\n            return user.avatar;\r\n        } else {\r\n            return \"default_avatar.jpg\"; // Путь к аватару по умолчанию\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Error fetching user avatar:\", error);\r\n        return \"default_avatar.jpg\"; // В случае ошибки верните путь к аватару по умолчанию\r\n    }\r\n}\r\n\r\nmodule.exports = getAvatar;"],"mappings":"AAAA;AACA,MAAMA,IAAI,GAAGC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;;AAEhC,eAAeC,SAASA,CAACC,MAAM,EAAE;EAC7B,IAAI;IACA;IACA,MAAMC,IAAI,GAAG,MAAMJ,IAAI,CAACK,QAAQ,CAACF,MAAM,CAAC;;IAExC;IACA,IAAI,CAACC,IAAI,EAAE;MACP,OAAO,oBAAoB,CAAC,CAAC;IACjC;;IAEA;IACA,IAAIA,IAAI,CAACE,MAAM,EAAE;MACb,OAAOF,IAAI,CAACE,MAAM;IACtB,CAAC,MAAM;MACH,OAAO,oBAAoB,CAAC,CAAC;IACjC;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACnD,OAAO,oBAAoB,CAAC,CAAC;EACjC;AACJ;;AAEAE,MAAM,CAACC,OAAO,GAAGR,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}